# react-deploy-practice
github action을 활용한 react 프로젝트 S3, cloudfront, dns




## 필요이유
기존의 프론트엔드(CSR) 빌드 환경은 백엔드 서버와 프론트의 빌드 프로세스가 공존했었음
즉 프론트엔드(CSR) 빌드시, 백엔드 서버의 nginx(리버스 프록시)에 정적파일(index.html, assets, index.js/분리된 chunks.js)이 존재하는 형태
해당 환경에서의 문제를 생각해보았을때 서버가 통합되어 있음으로 
1. 만약 백엔드 서버가 불안정한 경우 정적 파일(빌드한 파일)을 서빙하는것도 문제가 될 수 있음
   -> 클라이언트로 하여금, 어플리케이션 전체가 멈춘듯한 경험을 줄 수도 있음
2. 서버의 환경이 같아 ci/cd적용시 프론트의 빌드와 백엔드의 빌드가 서로 독립적으로 진행될수 없음
3. 반대로 페이지 요청 수가 많아져도 서버에 과부화가 발생하여 정적 서빙 뿐 아니라 api까지 느려질 수 있음




## 해결방안
이에 해결방안으로 S3와 cloudfront를 활용하여 백엔드 서버와 프론트 환경을 분리시켜 적용 하는 방법이 있음




## 왜 S3일까?
 1. CSR로 빌드된 프로젝트의 경우, 브라우저가 읽을수 있는 index.html, 동적인 js파일, css, assets로 구성되고 이를 서빙하는 형태로 진행됨
 2. 즉 따로 해당 파일만 제공하면 SSR과 달리 이를 렌더링하는 서버가 필요 없음
 3. 따라서, 빌드한 파일들을 저장하고 클라이언트 요청 시 해당 파일에 접근 가능한 S3를 택할 수 있음



## 왜 CloudFront일까?
 1. S3의 정적파일을 캐싱하여 전세계 어디서 접근하던 빠른 속도로 파일을 제공할 수 있음
 2. S3에 대한 접근을 CloudFront를 통해 https를 지원하여 보안을 강화할 수 있음
 3. 원천적으로 모든 접근을 AWS 계정 소유자가 아닌 이상 CloudFront를 통해서만 가능하게 함으로 원본 파일의 보안을 강화할 수 있음
 4. 대규모 트래픽으로 발생할 수 있는 지연을 다른 인프라의 확장 없이 안정적으로 처리해줌




 
